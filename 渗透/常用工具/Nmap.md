
# 主机发现
是用来快速探测哪些主机是在线的，不会扫描端口，适合做初步资产发现

```bash
nmap -sn 192.168.136.0/24
```

# 全端口扫描

```bash
nmap -sT -sC -sV -O -p- 192.168.231.144 -oA /root/scan

```

|参数|含义|
|---|---|
|`-sT`|**TCP Connect 扫描**：使用系统调用连接端口（适合无 root 权限）|
|`-sC`|**默认脚本扫描**：运行 Nmap 的默认 NSE 脚本（如版本检测、漏洞探测）|
|`-sV`|**服务版本探测**：识别端口服务的具体版本（如 Apache 2.4.54）|
|`-O`|**操作系统识别**：尝试判断目标主机的操作系统（如 Linux Debian）|
|`-p-`|**扫描所有端口**（1–65535），而不是默认的前 1000 个端口|
|`192.168.231.144`|目标 IP 地址|
|`-oA /root/scan`|将结果保存为三种格式：`.nmap`, `.gnmap`, `.xml`，前缀为 `scan`|


# UDP扫描
## 🧠 命令 1

bash

```
nmap -sU --min-rate 10000 -p- 192.168.231.136
```

- `-sU` → UDP 扫描模式。
    
- `--min-rate 10000` → 设置最小发包速率为 **10000 个探测包/秒**，强制高速扫描。
    
- `-p-` → 扫描所有 UDP 端口（1–65535）。
    
- **目标** → `192.168.231.136`。
    

👉 效果：**全端口 UDP 扫描**，速度非常快，适合在内网或实验环境里快速枚举所有 UDP 服务。但缺点是：

- UDP 扫描本来就慢且容易漏报，高速发包可能导致丢包或误判。
    
- 对目标压力大，容易被防火墙/IDS 发现。
    

## 🧠 命令 2

bash

```bash
nmap -sU --top=20 192.168.231.136
```

- `-sU` → UDP 扫描模式。
    
- `--top=20` → 只扫描 **最常见的 20 个 UDP 端口**（Nmap 内置统计表，比如 53/DNS、67/68/DHCP、123/NTP、161/SNMP、445、500、1434 等）。
    
- **目标** → `192.168.231.136`。
    

👉 效果：**快速常见端口 UDP 扫描**，只检查最可能开放的 20 个端口。速度快，结果更集中，但可能漏掉一些冷门服务。


# 漏洞扫描
```bash
nmap --script=vuln -p21,80,111,2049 192.168.231.144
```
- `--script=vuln` 调用 Nmap 的 **NSE 脚本库**里所有与漏洞检测相关的脚本。 👉 会尝试已知漏洞探测，比如弱口令、信息泄露、常见 CVE。
    
- `-p21,80,111,2049` 指定扫描端口：
    
    - **21** → FTP
        
    - **80** → HTTP
        
    - **111** → RPCbind (SunRPC)
        
    - **2049** → NFS (Network File System)
        
- `192.168.231.144` 目标 IP 地址。



















